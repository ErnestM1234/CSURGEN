


# TEXT = ""

# TEXT = """zone-defense.epub.txt my-precious-spine-and-i.epub.txt                                       you-make-me-crazy.epub.txt
# my-quest-for-peace-one-israelis-journey-from-hatred-to-peace.epub.txt  young-annabelle-ya-series-book-1.epub.txt
# my-quote-book-like-no-other.epub.txt                                   young-gay-and-scared.epub.txt
# my-real-imaginary-life.epub.txt                                        young-love-in-old-chicago.epub.txt
# my-reflections-volume-1.epub.txt                                       young-volcanoes.epub.txt
# my-resurrection-revelation-jesus-speaking.epub.txt                     your-change-is-coming.epub.txt
# myriad-prentor-book-1.epub.txt                                         youre-a-scientist-make-your-own-mistakes-volume-1.epub.txt
# myriah-fire.epub.txt                                                   youre-just-not-that-into-you.epub.txt
# my-savior-forever-forever-series-1.epub.txt                            youre-still-the-one.epub.txt
# my-search-for-serotonin-experiences-of-suicidal-depression-a.epub.txt  youre-welcome.epub.txt
# my-shrieking-skin.epub.txt                                             youre-welcome-to-date-my-daughter-if.epub.txt
# my-son-the-guardian-angel.epub.txt                                     your-father-knows-best.epub.txt
# my-soul-thirsts-for-god-a-guide-for-the-interpretation-of-se.epub.txt  your-god-is-too-small-50-essays-on-life-love-and-liberty-wit.epub.txt
# mysterious-destiny-beckoning-corridors.epub.txt                        your-guide-to-succeed-after-graduation.epub.txt
# mysterious-destiny-bright-lights-and-thunder-part-i.epub.txt           your-guide-to-the-coolest-neighborhoods-in-north-america.epub.txt
# mysterious-destiny-bright-lights-and-thunder-part-ii.epub.txt          your-heart-for-mine.epub.txt
# mysterious-logic.epub.txt                                              your-kiss-is-like-the-sweetest-fire.epub.txt
# mystery-and-deceit-from-earth-to-mars.epub.txt                         your-love-incomplete.epub.txt
# mystery-at-the-fair.epub.txt                                           your-mark-on-the-world-stories-of-service-that-show-us-how-t.epub.txt
# mystery-at-the-hot-pond.epub.txt                                       your-path-into-higher-worlds.epub.txt
# mystery-on-first-street-adventures-for-youngsters-of-all-age.epub.txt  your-pow-wow-with-almighty-god-brother-jesus-the-holy-spirit.epub.txt
# mystical-tales-of-romance.epub.txt                                     you-stop-you-die-a-western-novella.epub.txt
# mysticism.epub.txt                                                     youth-ministry-based-on-real-relationships-interviews-with-a.epub.txt
# mystiques-journey.epub.txt                                             you-too-can-study-more-easily-tips-for-dummies-and-others.epub.txt
# my-story.epub.txt                                                      youve-got-to-be-kidding-lord-you-want-me-to-tell-who-about-y.epub.txt
# my-story-god-wouldnt-give-up-on-me.epub.txt                            youve-got-to-be-kind-volume-1.epub.txt
# my-struggle.epub.txt                                                   youve-got-to-be-kind-volume-2.epub.txt
# my-struggle-teaser-version.epub.txt                                    youve-got-to-be-kind-volume-3.epub.txt"""


TEXT = """                                     
my-quest-for-peace-one-israelis-journey-from-hatred-to-peace.epub.txt  young-annabelle-ya-series-book-1.epub.txt
my-quote-book-like-no-other.epub.txt                                   young-gay-and-scared.epub.txt
my-real-imaginary-life.epub.txt                                        young-love-in-old-chicago.epub.txt
my-reflections-volume-1.epub.txt                                       young-volcanoes.epub.txt
my-resurrection-revelation-jesus-speaking.epub.txt                     your-change-is-coming.epub.txt
myriad-prentor-book-1.epub.txt                                         youre-a-scientist-make-your-own-mistakes-volume-1.epub.txt
myriah-fire.epub.txt                                                   youre-just-not-that-into-you.epub.txt
my-savior-forever-forever-series-1.epub.txt                            youre-still-the-one.epub.txt
my-search-for-serotonin-experiences-of-suicidal-depression-a.epub.txt  youre-welcome.epub.txt
my-shrieking-skin.epub.txt                                             youre-welcome-to-date-my-daughter-if.epub.txt
my-son-the-guardian-angel.epub.txt                                     your-father-knows-best.epub.txt
my-soul-thirsts-for-god-a-guide-for-the-interpretation-of-se.epub.txt  your-god-is-too-small-50-essays-on-life-love-and-liberty-wit.epub.txt
mysterious-destiny-beckoning-corridors.epub.txt                        your-guide-to-succeed-after-graduation.epub.txt
mysterious-destiny-bright-lights-and-thunder-part-i.epub.txt           your-guide-to-the-coolest-neighborhoods-in-north-america.epub.txt
mysterious-destiny-bright-lights-and-thunder-part-ii.epub.txt          your-heart-for-mine.epub.txt
mysterious-logic.epub.txt                                              your-kiss-is-like-the-sweetest-fire.epub.txt
mystery-and-deceit-from-earth-to-mars.epub.txt                         your-love-incomplete.epub.txt
mystery-at-the-fair.epub.txt                                           your-mark-on-the-world-stories-of-service-that-show-us-how-t.epub.txt
mystery-at-the-hot-pond.epub.txt                                       your-path-into-higher-worlds.epub.txt
mystery-on-first-street-adventures-for-youngsters-of-all-age.epub.txt  your-pow-wow-with-almighty-god-brother-jesus-the-holy-spirit.epub.txt
mystical-tales-of-romance.epub.txt                                     you-stop-you-die-a-western-novella.epub.txt
mysticism.epub.txt                                                     youth-ministry-based-on-real-relationships-interviews-with-a.epub.txt
mystiques-journey.epub.txt                                             you-too-can-study-more-easily-tips-for-dummies-and-others.epub.txt
my-story.epub.txt                                                      youve-got-to-be-kidding-lord-you-want-me-to-tell-who-about-y.epub.txt
my-story-god-wouldnt-give-up-on-me.epub.txt                            youve-got-to-be-kind-volume-1.epub.txt
my-struggle.epub.txt                                                   youve-got-to-be-kind-volume-2.epub.txt
my-struggle-teaser-version.epub.txt                                    youve-got-to-be-kind-volume-3.epub.txt"""

PATH = " data/bookcorpus/raw/books1/epubtxt/"

# COMMAND = """python generate_pun.py data/bookcorpus/edit/bin/data \\
# 	--path models/bookcorpus/edit/delete/checkpoint_best.pt \\
# 	--beam 20 --nbest 1 --unkpen 100 \\
# 	--system rule --task edit \\
# 	--retriever-model models/bookcorpus/retriever.pkl --doc-file {} \\
# 	--lm-path models/wikitext/wiki103.pt --word-counts-path models/wikitext/dict.txt \\
# 	--skipgram-model data/bookcorpus/skipgram/dict.txt models/bookcorpus/skipgram/sgns-e15.pt \\
# 	--num-candidates 5000000 --num-templates 100000 \\
# 	--num-topic-word 10000 --type-consistency-threshold 0.01 \\
# 	--pun-words data/semeval/hetero/dev.json \\
# 	--outdir results/semeval/hetero/dev/rule \\
# 	--scorer random \\
# 	--max-num-examples 100"""

COMMAND = """python generate_pun.py data/bookcorpus/edit/bin/data \\
	--path models/bookcorpus/edit/delete/checkpoint_best.pt \\
	--beam 20 --nbest 1 --unkpen 100 \\
	--system rule --task edit \\
	--retriever-model models/bookcorpus/retriever.pkl --doc-file templates.txt \\
	--lm-path models/wikitext/wiki103.pt --word-counts-path models/wikitext/dict.txt \\
	--skipgram-model data/bookcorpus/skipgram/dict.txt models/bookcorpus/skipgram/sgns-e15.pt \\
	--num-candidates 53 --num-templates 53 \\
	--num-topic-word 1000000 --type-consistency-threshold 0.3 \\
	--pun-words puns.json \\
	--outdir results/semeval/hetero/dev/rule \\
	--scorer random \\
	--max-num-examples 100"""

# COMMAND="""python -m pungen.retriever --doc-file templates.txt \\
#     --path models/bookcorpus/retriever.pkl --overwrite"""


# COMMAND="""python -m pungen.retriever --doc-file {} \\
#     --path models/bookcorpus/retriever.pkl --overwrite"""

def main():
    no_extra_space = ' '.join(TEXT.split())
    new_text = PATH + PATH.join(no_extra_space.split(' '))
    command = COMMAND.format(new_text)
    print(command)


if __name__ == "__main__":
    main()


"""
PYTHONPATH=. python scripts/parsed_to_tokenized.py --input data/train.txt --output /tmp/train.tokenized.txt;
PYTHONPATH=. python scripts/parsed_to_tokenized.py --input data/valid.txt --output /tmp/valid.tokenized.txt;
cat /tmp/train.tokenized.txt /tmp/valid.tokenized.txt > /tmp/sent.tokenized.txt;
NLTK_DATA=nltk_data
python generate_pun.py foo --system retrieve \
    --retriever-model models/bookcorpus/retriever.pkl \
    --doc-file /tmp/sent.tokenized.txt \
    --skipgram-model skipgram/dict.txt skipgram/model.pt \
    --num-candidates 500 --num-templates 100 \
    --num-topic-word 100 --type-consistency-threshold 0.3 \
    --pun-words data/semeval/hetero/dev.json \
    --outdir ./ --scorer random \
    --max-num-examples 100 \
    --word-counts-path data/bookcorpus/skipgram/dict.txt



PYTHONPATH=. python scripts/parsed_to_tokenized.py --input data/train.txt --output /tmp/train.tokenized.txt;
PYTHONPATH=. python scripts/parsed_to_tokenized.py --input data/valid.txt --output /tmp/valid.tokenized.txt;
cat /tmp/train.tokenized.txt /tmp/valid.tokenized.txt > /tmp/sent.tokenized.txt;
NLTK_DATA=nltk_data
python generate_pun.py combiner-data \
    --path combiner/models/checkpoint_best.pt \
    --beam 20 --nbest 1 --unkpen 100 --task edit --system rule \
    --retriever-model models/bookcorpus/retriever.pkl \
    --doc-file /tmp/sent.tokenized.txt \
    --skipgram-model skipgram/dict.txt skipgram/model.pt \
    --num-candidates 500 --num-templates 100 \
    --num-topic-word 100 --type-consistency-threshold 0.3 \
    --pun-words data/semeval/hetero/dev.json \
    --outdir ./ \
    --scorer random --max-num-examples 100 \
    --word-counts-path data/bookcorpus/skipgram/dict.txt
"""